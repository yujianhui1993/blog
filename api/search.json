[{"id":"7ad521757790024b9bb4160a33768155","title":"基于van-swipe 进行的定制开发","content":"基于van-swipe 进行的定制开发\n\n\n\n\n\n\n\n\n没改改其实现逻辑，只是对页面样式进行个性化\nswiper 的实现逻辑\n\n\n\n\n\n\n\n\n说白了就是左右移动或者上下移动，利用translateX 或者translateY，固定显示区域，整个内容左右或上下移动。添加一些动画效果即可实现。原理简单为什么不自己开发。主要原因在于进场动画，滑动效果动画，以及滑动边界判断等需要处理。能处理好这些。自己开发也是一个不错的选择。\n如何实现 swiper 左中右 三块布局效果图\n离得最近的是van-swipe的固定宽度这个模版\n我们只要想办法实现如下效果\n\n实现步骤逻辑\n构建van-swipe，设置swiper-item宽度（设置宽度值应小于页面宽度）\n\n滑动后使其移动的距离小于设置宽度 公式： 移动距离 &#x3D; - ( item宽度 -（屏幕宽度 - item宽度）&#x2F; 2) \n\n当item是显示第一个时，将最后一个item移到第一个前面，当item是显示最后一个时，将第一个item移到最后。\n\n\n主要代码块设置滑动后处理样式\n     // 设置样式\n    setSwiperStyle(index) &#123;\n      this.$nextTick(() =&gt; &#123;\n        const countItem = document.getElementsByClassName(&#39;user-card-waring&#39;)\n        const swiperItem = document.getElementsByClassName(&#39;van-swipe-item&#39;)\n        // 修改 选中样式\n        for (let i = 0; i &lt; countItem.length; i++) &#123;\n          countItem[i].classList.remove(&#39;current&#39;)\n          if (index == i) &#123;\n            countItem[i].classList.add(&#39;current&#39;)\n          &#125;\n        &#125;\n        // 当前是第一个元素时\n        // 需将最后一个item元素前移\n        // 移除原有第一个元素的的style样式\n        if (index == 0) &#123;\n          swiperItem[0].style.removeProperty(&#39;transform&#39;)\n          swiperItem[swiperItem.length - 1].style.transform = `translateX($&#123;-swiperItem.length * this.width&#125;px)`\n        &#125; else if (index == swiperItem.length - 1) &#123;\n          // 是最后一个元素时\n          // 需将第一个元素item 后移\n          // 移除原有的最后一个元素的style样式\n          swiperItem[swiperItem.length - 1].style.removeProperty(&#39;transform&#39;)\n          swiperItem[0].style.transform = `translateX($&#123;swiperItem.length * this.width&#125;px)`\n        &#125; else &#123;\n          // 不是第一个和最后一个元素时\n          // 需将第一个和最后一个元素item 归位\n          // 移除样式即可\n          swiperItem[0].style.removeProperty(&#39;transform&#39;)\n          swiperItem[swiperItem.length - 1].style.removeProperty(&#39;transform&#39;)\n        &#125;\n        // 父组件移动距离\n        const dom = document.getElementsByClassName(&#39;van-swipe__track&#39;)\n        dom[0].style.transform = `translateX($&#123;index * -this.width + this.space / 2&#125;px)`\n      &#125;)\n    &#125;\n\n自定义监听touch事件用来处理覆盖van-swiper的样式    addEventListener() &#123;\n      // 监听 touchend 事件 用于处理滑块样式\n      const span = document.getElementsByClassName(&#39;van-swipe__track&#39;)\n      span[0].addEventListener(&#39;touchend&#39;, () =&gt; &#123;\n        this.setSwiperStyle(this.selectIndex)\n      &#125;)\n    &#125;,\n\n监听移动事件\n   onChange(index) &#123;\n      const countItem = document.getElementsByClassName(&#39;user-card-waring&#39;)\n      // 判断移动方向\n      // 主要目的是为加载对应卡片内容提供一个进场动画\n      let moveDirection = &#39;right&#39;\n      if (this.selectIndex &gt; index) &#123;\n        moveDirection = &#39;left&#39;\n      &#125;\n      // 当前选择的是最后一个item 并且上一次item是第一个。则依然是向左移动\n      if (countItem.length - 1 == index &amp;&amp; this.selectIndex == 0) &#123;\n        moveDirection = &#39;left&#39;\n      &#125;\n      // 当前是第一个item，并且上一次是最后一个item,则移动方向是向右移动\n      if (index == 0 &amp;&amp; this.selectIndex == countItem.length - 1) &#123;\n        moveDirection = &#39;right&#39;\n      &#125;\n      this.setSwiperStyle(index)\n      this.selectIndex = index\n      this.$emit(&#39;onChange&#39;, &#123; index: index, moveDirection &#125;)\n    &#125;,\n\n","slug":"swiper","date":"2023-06-15T10:49:36.000Z","categories_index":"文章","tags_index":"技术分享","author_index":"虞建辉"},{"id":"e2dd80b7de5fb2e3b8f29ae72f511dd3","title":"h5页面调用摄像头","content":"h5页面调用摄像头调用摄像头的几个易难点\n本地可以部署后不行\n\n\n\n\n\n\n\n\n navigator.mediaDevices 调用需要在 localhost,或者https 的环境下才能成功，如果是http的则将报错，无法调用成功。\n\nvideo 的宽高设置\n\n\n\n\n\n\n\n\nvideo组件的宽高比是固定的，直接设置宽高是不能达到效果，我们需要 “object-fit: fill”, 将内容填充。这样设置的宽高才有效果。\n\nvideo 呈现的画面镜像问题\n\n\n\n\n\n\n\n\n这个需要翻转 利用 transform: rotateY(180deg)可以实现。\n\nios 无法调用问题\n\n\n\n\n\n\n\n\n网上原有的方案中。在video.onloadedmetadata 方法中去调用 video.play() 可实现调起摄像头（在安卓手机上）。ios在升级后，这种方案已经无法调用了。我们需要调用 video.load() 后，延迟调用video.play() 延迟时间大概一秒左右。（底部有源码）\n\n保存图片镜像问题\n\n\n\n\n\n\n\n\n利用canvas 保存video帧动画时，也会出现图片镜像问题，这时我们需要 context.scale(-1, 1) 左右镜像翻转，来实现。\n\n\nvue 封装的 h5中调用摄像头代码 使用方法\n引入组件（下方代码）\n\n暴露方法 getVideoCameraInfo() 返回 canvas的数据，由自己处理\n\n\n代码\n点击查看内容\n&lt;template&gt;\n  &lt;div&gt;\n    &lt;video\n      ref=&quot;video&quot;\n      id=&quot;videoCamera&quot;\n      autoPlay\n      muted\n      :width=&quot;videoWidth&quot;\n      :height=&quot;videoHeight&quot;\n      playsInline&gt;\n    &lt;/video&gt;\n    &lt;canvas \n      style=&quot;display: none&quot;\n      :width=&quot;videoWidth&quot;\n      :height=&quot;videoHeight&quot;\n      id=&quot;canvasCamera&quot;&gt;\n    &lt;/canvas&gt;\n    &lt;div class=&quot;video-mark&quot;&gt;\n      &lt;!--&gt;插槽可自定义自己的遮罩层 &lt;!--&gt;\n      &lt;slot name=&quot;mark&quot;&gt;&lt;/slot&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport &#123; Toast &#125; from &#39;vant&#39;;\n\nexport default &#123;\n  props: &#123;\n    // 设置video 的宽\n    videoWidth: &#123;\n      type: [ Number, String],\n      default: 300\n    &#125;,\n    // 设置video 的高\n    videoHeight: &#123;\n      type: [ Number, String],\n      default: 300\n    &#125;\n  &#125;,\n\n  mounted() &#123;\n    // 进入页面 自动调用摄像头\n    this.initCamera();\n  &#125;,\n\n  methods: &#123;\n    async initCamera() &#123;\n      // 提示\n      await this.initToast(&#39;初始化...&#39;, 0)\n      // 校验兼容性\n      await this.checkCompatible()\n      // 创建video\n      await this.createVideo()\n\n    &#125;,\n\n    // 生成video\n    async createVideo() &#123;\n      const constraints = &#123;\n        audio: false,\n        video: &#123;\n          width: this.videoWidth,\n          height: this.videoHeight,\n          facingMode: &quot;user&quot; // 前置优先\n        &#125;\n      &#125;;\n      // 正常支持版本\n      navigator.mediaDevices.getUserMedia(constraints).then((stream) =&gt; &#123;\n        // 摄像头开启成功\n        this.$refs.video.srcObject = stream;\n        // ios 需要video load后才可以调用play\n        // 调用play 需要延迟处理\n        this.$refs.video.load()\n        setTimeout(() =&gt; &#123;\n          this.$refs.video.play()\n          Toast.clear();\n        &#125;, 1000);\n      &#125;).catch(err =&gt; &#123;\n        Toast.clear();\n        console.log(&#39;error===&gt;&#39;, err);\n      &#125;);\n    &#125;,\n\n    // 校验兼容性\n    async checkCompatible() &#123;\n      // 兼容性判断\n      // 旧版本浏览器可能根本不支持mediaDevices,首先设置一个空对象\n      if (navigator.mediaCapabilities === undefined) &#123;\n        navigator.mediaCapabilities = &#123;&#125;;\n      &#125;\n      // 一些浏览器实现了部分mediaDevices,不能值分配一个对象\n      // 使用getUserMedia属性，就添加她\n      if (navigator.mediaDevices.getUserMedia === undefined) &#123;\n        // eslint-disable-next-line func-names\n        navigator.mediaCapabilities.getUserMedia = function(constraints) &#123;\n          // 首先获取现存的getUserMedia(如果存在)\n          const getUserMedia =\n            navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.getUserMedia;\n          // 有些浏览器不支持，会返回错误信息\n          // 保持接口一致\n          if (!getUserMedia) &#123;\n            return Promise.reject(new Error(&quot;浏览器不支持！&quot;));\n          &#125;\n          // 否则，使用Promise将调用爆炸到旧的navigator.getUserMedia\n          return new Promise((resolve, reject) =&gt; &#123;\n            getUserMedia.call(navigator, constraints, resolve, reject);\n          &#125;);\n        &#125;;\n      &#125;\n    &#125;,\n\n    // 获取\n    getVideoCameraInfo() &#123;\n      // 获取 canvas 画布\n      const canvas = document.getElementById(&#39;canvasCamera&#39;);\n      const context = canvas.getContext(&#39;2d&#39;);\n\n      // 位移来做镜像翻转\n      context.translate(this.videoWidth, 0);\n      context.scale(-1, 1); // 左右镜像翻转\n      context.drawImage(this.$refs.video, 0, 0,  this.videoWidth, this.videoHeight);\n      return canvas;\n      // const image = canvas.toDataURL(&#39;image/png&#39;);\n      // return image;\n    &#125;,\n\n    async initToast(msg, duration = 0) &#123;\n      Toast.loading(&#123;\n        duration, // 持续展示 toast\n        forbidClick: true,\n        message: msg,\n      &#125;);\n    &#125;\n  &#125;,\n\n  beforeDestroy() &#123;\n    // 关闭视频\n    this.$refs.video.srcObject.getTracks()[0].stop();\n  &#125;\n&#125;\n&lt;/script&gt;\n\n&lt;style lang=&quot;scss&quot; scoped&gt;\n.video-mark &#123;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n&#125;\n\nvideo &#123;\n  display: block;\n  object-fit: fill;\n  transform: rotateY(180deg);\n  -webkit-transform: rotateY(180deg);    /* Safari 和 Chrome */\n  -moz-transform: rotateY(180deg);\n&#125;\n&lt;/style&gt;\n\n\n\n附上压缩文件方法\n\n\n\n\n\n\n\n\n引入 npm run browser-image-compression\n使用方法\n\n\n\n\n\n\n\n\nimport imageCompression from ‘browser-image-compression’\n  // 获取图片base64链接\n  const options = &#123;\n    maxSizeMB: 0.05, //压缩大小 MB\n    maxWidthOrHeight: 200, // 压缩尺寸\n    useWebWorker: true,\n    fileType: &#39;image/jpeg&#39; // 文件类型\n  &#125;\n\n const compressedFile = await imageCompression(blob, options);\n\n","slug":"h5medio","date":"2023-01-01T10:49:36.000Z","categories_index":"文章","tags_index":"技术分享","author_index":"虞建辉"},{"id":"72b8ca2d0651af20a0cc69b2bc73ff9c","title":"阿里Vue规范整理","content":"阿里Vue 规范\n\n\n\n\n\n\n\n\n\nVue 项目规范\nVue 编码基础\nvue 项目规范以 Vue 官方规范 中的 A 规范为基础，在其上面进行项目开发，故所有代码均遵守该规范。\n请仔仔细细阅读 Vue 官方规范，切记，此为第一步。\n组件规范\n组件名为多个单词。\n\n\n\n\n\n\n\n\n\n\n组件名应该始终是多个单词组成（大于等于 2），且命名规范为KebabCase格式。这样做可以避免跟现有的以及未来的 HTML 元素相冲突，因为所有的 HTML 元素名称都是单个单词的。\n正例：  export default &#123;\n    name: &#39;TodoItem&#39;\n    // ...\n  &#125;;\n  反例：\n  export default &#123;\n    name: &#39;Todo&#39;,\n    // ...\n  &#125;\n  export default &#123;\n    name: &#39;todo-item&#39;,\n    // ...\n  &#125;\n\n组件文件名为 pascal-case 格式正例：  components/\n  |- my-component.vue\n\n反例：  components/\n  |- myComponent.vue\n  |- MyComponent.vue\n  3) 基础组件文件名为 base 开头，使用完整单词而不是缩写。\n\n正例：  components/\n  |- base-button.vue\n  |- base-table.vue\n  |- base-icon.vue\n\n反例：  components/\n  |- MyButton.vue\n  |- VueTable.vue\n  |- Icon.vue\n  4) 和父组件紧密耦合的子组件应该以父组件名作为前缀命名\n\n正例：  components/\n  |- todo-list.vue\n  |- todo-list-item.vue\n  |- todo-list-item-button.vue\n  |- user-profile-options.vue （完整单词）\n  \n\n反例：  components/\n  |- TodoList.vue\n  |- TodoItem.vue\n  |- TodoButton.vue\n  |- UProfOpts.vue （使用了缩写）\n\n在 Template 模版中使用组件，应使用 PascalCase 模式，并且使用自闭合组件。正例：  &lt;!-- 在单文件组件、字符串模板和 JSX 中 --&gt;\n  &lt;MyComponent /&gt;\n  &lt;Row&gt;&lt;table :column=&quot;data&quot;/&gt;&lt;/Row&gt;\n\n反例：  &lt;my-component /&gt; &lt;row&gt;&lt;table :column=&quot;data&quot;/&gt;&lt;/row&gt;\n\n组件的 data 必须是一个函数正例：  export default &#123;\n    data () &#123;\n      return &#123;\n        name: &#39;jack&#39;\n      &#125;\n    &#125;\n  &#125;\n\n反例：  export default &#123;\n    data: &#123;\n      name: &#39;jack&#39;\n    &#125;\n  &#125;\n\nProp 定义应该尽量详细\n必须使用 camelCase 驼峰命名\n必须指定类型\n必须加上注释，表明其含义\n必须加上 required 或者 default，两者二选其一\n如果有业务需要，必须加上 validator 验证\n\n正例：  props: &#123;\n    // 组件状态，用于控制组件的颜色\n    status: &#123;\n      type: String,\n      required: true,\n      validator: function (value) &#123;\n        return [\n          &#39;succ&#39;,\n          &#39;info&#39;,\n          &#39;error&#39;\n        ].indexOf(value) !== -1\n      &#125;\n    &#125;,\n      // 用户级别，用于显示皇冠个数\n    userLevel：&#123;\n        type: String,\n        required: true\n    &#125;\n  &#125;\n\n为组件样式设置作用域正例：  &lt;template&gt;\n    &lt;button class=&quot;btn btn-close&quot;&gt;X&lt;/button&gt;\n  &lt;/template&gt;\n  &lt;!-- 使用 `scoped` 特性 --&gt;\n  &lt;style scoped&gt;\n    .btn-close &#123;\n      background-color: red;\n    &#125;\n  &lt;/style&gt;\n\n反例：  &lt;template&gt;\n    &lt;button class=&quot;btn btn-close&quot;&gt;X&lt;/button&gt;\n  &lt;/template&gt;\n  &lt;!-- 没有使用 `scoped` 特性 --&gt;\n  &lt;style&gt;\n    .btn-close &#123;\n      background-color: red;\n    &#125;\n  &lt;/style&gt;\n\n如果特性元素较多，应该主动换行。正例：  &lt;MyComponent foo=&quot;a&quot; bar=&quot;b&quot; baz=&quot;c&quot;\n      foo=&quot;a&quot; bar=&quot;b&quot; baz=&quot;c&quot;\n      foo=&quot;a&quot; bar=&quot;b&quot; baz=&quot;c&quot;\n  /&gt;\n\n反例：  &lt;MyComponent foo=&quot;a&quot; bar=&quot;b&quot; baz=&quot;c&quot; foo=&quot;a&quot; bar=&quot;b&quot; baz=&quot;c&quot; foo=&quot;a&quot; bar=&quot;b&quot; baz=&quot;c&quot; foo=&quot;a&quot; bar=&quot;b&quot; baz=&quot;c&quot;/&gt;\n\n模板中使用简单的表达式\n\n\n\n\n\n\n\n\n组件模板应该只包含简单的表达式，复杂的表达式则应该重构为计算属性或方法。复杂表达式会让你的模板变得不那么声明式。我们应该尽量描述应该出现的是什么，而非如何计算那个值。而且计算属性和方法使得代码可以重用。\n正例：      &lt;template&gt;\n        &lt;p&gt;&#123;&#123; normalizedFullName &#125;&#125;&lt;/p&gt;\n      &lt;/template&gt;\n      // 复杂表达式已经移入一个计算属性\n      computed: &#123;\n        normalizedFullName: function () &#123;\n          return this.fullName.split(&#39; &#39;).map(function (word) &#123;\n            return word[0].toUpperCase() + word.slice(1)\n          &#125;).join(&#39; &#39;)\n        &#125;\n      &#125;\n\n反例：      &lt;template&gt;\n        &lt;p&gt;\n            &#123;&#123;\n                fullName.split(' ').map(function (word) &#123;\n                  return word[0].toUpperCase() + word.slice(1)\n                &#125;).join(' ')\n              &#125;&#125;\n        &lt;/p&gt;\n      &lt;/template&gt;\n\n指令都使用缩写形式\n\n\n\n\n\n\n\n\n指令推荐都使用缩写形式，(用 : 表示 v-bind: 、用 @ 表示 v-on: 和用 # 表示 v-slot:)\n正例：&lt;input\n  @input=&quot;onInput&quot;\n  @focus=&quot;onFocus&quot;\n&gt;\n\n反例：  &lt;input\n    v-on:input=&quot;onInput&quot;\n    @focus=&quot;onFocus&quot;\n  &gt;\n\n标签顺序保持一致\n\n\n\n\n\n\n\n\n单文件组件应该总是让标签顺序保持为\n正例：  &lt;template&gt;...&lt;/template&gt;\n  &lt;script&gt;...&lt;/script&gt;\n  &lt;style&gt;...&lt;/style&gt;\n\n反例：  &lt;template&gt;...&lt;/template&gt;\n  &lt;style&gt;...&lt;/style&gt;\n  &lt;script&gt;...&lt;/script&gt;\n\n必须为 v-for 设置键值 keyv-show 与 v-if 选择\n\n\n\n\n\n\n\n\n如果运行时，需要非常频繁地切换，使用 v-show ；如果在运行时，条件很少改变，使用 v-if。\nscript 标签内部结构顺序\n\n\n\n\n\n\n\n\ncomponents &gt; props &gt; data &gt; computed &gt; watch &gt; filter &gt; 钩子函数（钩子函数按其执行顺序） &gt; methods\nVue Router 规范页面跳转数据传递使用路由参数\n\n\n\n\n\n\n\n\n页面跳转，例如 A 页面跳转到 B 页面，需要将 A 页面的数据传递到 B 页面，推荐使用 路由参数进行传参，而不是将需要传递的数据保存 vuex，然后在 B 页面取出 vuex 的数据，因为如果在 B 页面刷新会导致 vuex 数据丢失，导致 B 页面无法正常显示数据。\n正例：  let id = &#39; 123&#39;;\n  this.$router.push(&#123; name: &#39;userCenter&#39;, query: &#123; id: id &#125; &#125;);\n\n使用路由懒加载（延迟加载）机制  &#123;\n      path: &#39;/uploadAttachment&#39;,\n      name: &#39;uploadAttachment&#39;,\n      meta: &#123;\n        title: &#39;上传附件&#39;\n      &#125;,\n      component: () =&gt; import(&#39;@/view/components/uploadAttachment/index.vue&#39;)\n    &#125;,\n\nrouter 中的命名规范\npath、childrenPoints 命名规范采用kebab-case命名规范（尽量vue文件的目录结构保持一致，因为目录、文件名都是kebab-case，这样很方便找到对应的文件）\n\nname 命名规范采用KebabCase命名规范且和component组件名保持一致！（因为要保持keep-alive特性，keep-alive按照component的name进行缓存，所以两者必须高度保持一致）\n   // 动态加载\n   export const reload = [\n     &#123;\n       path: &#39;/reload&#39;,\n       name: &#39;reload&#39;,\n       component: Main,\n       meta: &#123;\n         title: &#39;动态加载&#39;,\n         icon: &#39;icon iconfont&#39;\n       &#125;,\n       children: [\n         &#123;\n           path: &#39;/reload/smart-reload-list&#39;,\n           name: &#39;SmartReloadList&#39;,\n           meta: &#123;\n             title: &#39;SmartReload&#39;,\n             childrenPoints: [\n               &#123;\n                 title: &#39;查询&#39;,\n                 name: &#39;smart-reload-search&#39;\n               &#125;,\n               &#123;\n                 title: &#39;执行reload&#39;,\n                 name: &#39;smart-reload-update&#39;\n               &#125;,\n               &#123;\n                 title: &#39;查看执行结果&#39;,\n                 name: &#39;smart-reload-result&#39;\n               &#125;\n             ]\n           &#125;,\n           component: () =&gt;\n             import(&#39;@/views/reload/smart-reload/smart-reload-list.vue&#39;)\n         &#125;\n       ]\n     &#125;\n   ];\n\n\n\nrouter 中的 path 命名规范\n\n\n\n\n\n\n\n\npath除了采用kebab-case命名规范以外，必须以 &#x2F; 开头，即使是children里的path也要以 &#x2F; 开头。如下示例\n目的：\n\n\n\n\n\n\n\n\n经常有这样的场景：某个页面有问题，要立刻找到这个vue文件，如果不用以&#x2F;开头，path为parent和children组成的，可能经常需要在router文件里搜索多次才能找到，而如果以&#x2F;开头，则能立刻搜索到对应的组件\n  &#123;\n      path: &#39;/file&#39;,\n      name: &#39;File&#39;,\n      component: Main,\n      meta: &#123;\n        title: &#39;文件服务&#39;,\n        icon: &#39;ios-cloud-upload&#39;\n      &#125;,\n      children: [\n        &#123;\n          path: &#39;/file/file-list&#39;,\n          name: &#39;FileList&#39;,\n          component: () =&gt; import(&#39;@/views/file/file-list.vue&#39;)\n        &#125;,\n        &#123;\n          path: &#39;/file/file-add&#39;,\n          name: &#39;FileAdd&#39;,\n          component: () =&gt; import(&#39;@/views/file/file-add.vue&#39;)\n        &#125;,\n        &#123;\n          path: &#39;/file/file-update&#39;,\n          name: &#39;FileUpdate&#39;,\n          component: () =&gt; import(&#39;@/views/file/file-update.vue&#39;)\n        &#125;\n      ]\n    &#125;\n\nVue 项目目录规范基础vue 项目中的所有命名一定要与后端命名统一。\n\n\n\n\n\n\n\n\n比如权限：后端 privilege, 前端无论 router , store, api 等都必须使用 privielege 单词！\n使用 Vue-cli 脚手架\n\n\n\n\n\n\n\n\n使用 vue-cli3 来初始化项目，项目名按照上面的命名规范。\n目录说明\n\n\n\n\n\n\n\n\n目录名按照上面的命名规范，其中 components 组件用大写驼峰，其余除 components 组件目录外的所有目录均使用 kebab-case 命名。\n  src                                  源码目录\n  |-- api                              所有api接口\n  |-- assets                           静态资源，images, icons, styles等\n  |-- components                       公用组件\n  |-- config                           配置信息\n  |-- constants                        常量信息，项目所有Enum, 全局常量等\n  |-- directives                       自定义指令\n  |-- filters                          过滤器，全局工具\n  |-- datas                            模拟数据，临时存放\n  |-- lib                              外部引用的插件存放及修改文件\n  |-- mock                             模拟接口，临时存放\n  |-- plugins                          插件，全局使用\n  |-- router                           路由，统一管理\n  |-- store                            vuex, 统一管理\n  |-- themes                           自定义样式主题\n  |-- views                            视图目录\n  |   |-- role                                 role模块名\n  |   |-- |-- role-list.vue                    role列表页面\n  |   |-- |-- role-add.vue                     role新建页面\n  |   |-- |-- role-update.vue                  role更新页面\n  |   |-- |-- index.less                       role模块样式\n  |   |-- |-- components                       role模块通用组件文件夹\n  |   |-- employee                             employee模块\n\napi 目录文件、变量命名要与后端保持一致。\n\n\n\n\n\n\n\n\n此目录对应后端 API 接口，按照后端一个 controller 一个 api js 文件。若项目较大时，可以按照业务划分子目录，并与后端保持一致。api 中的方法名字要与后端 api url 尽量保持语义高度一致性。对于 api 中的每个方法要添加注释，注释与后端 swagger 文档保持一致。\n正例：  后端 url： EmployeeController.java\n  /employee/add\n  /employee/delete/&#123;id&#125;\n  /employee/update\n\n  前端： employee.js\n    // 添加员工\n    addEmployee: (data) =&gt; &#123;\n      return postAxios(&#39;/employee/add&#39;, data)\n    &#125;,\n    // 更新员工信息\n    updateEmployee: (data) =&gt; &#123;\n      return postAxios(&#39;/employee/update&#39;, data)\n    &#125;,\n      // 删除员工\n    deleteEmployee: (employeeId) =&gt; &#123;\n      return postAxios(&#39;/employee/delete/&#39; + employeeId)\n    &#125;,\n\nassets 目录\n\n\n\n\n\n\n\n\nassets 为静态资源，里面存放 images, styles, icons 等静态资源，静态资源命名格式为 kebab-case\n\n\n\n\n\n\n\n\n\n如果图片过多，可以新增文件夹来区分\n  |assets\n  |-- icons\n  |-- images\n  |   |-- background-color.png\n  |   |-- upload-header.png\n  |-- styles\n\n  |assets\n  |-- icons\n  |-- images\n  |-- |-- login\n  |   |   |-- background-color.png\n  |   |-- upload-header.png\n  |-- styles\n\ncomponents 目录\n\n\n\n\n\n\n\n\n此目录应按照组件进行目录划分，目录命名为 KebabCase，组件命名规则也为 KebabCase\n  |components\n  |-- error-log\n  |   |-- index.vue\n  |   |-- index.less\n  |-- markdown-editor\n  |   |-- index.vue\n  |   |-- index.js\n  |-- kebab-case\n\nconstants 目录\n\n\n\n\n\n\n\n\n此目录存放项目所有常量，如果常量在 vue 中使用，请使用 vue-enum 插件\n目录结构：  |constants\n  |-- index.js\n  |-- role.js\n  |-- employee.js\n\n例子： employee.js  export const EMPLOYEE_STATUS = &#123;\n    NORMAL: &#123;\n      value: 1,\n      desc: &#39;正常&#39;\n    &#125;,\n    DISABLED: &#123;\n      value: 1,\n      desc: &#39;禁用&#39;\n    &#125;,\n    DELETED: &#123;\n      value: 2,\n      desc: &#39;已删除&#39;\n    &#125;\n  &#125;;\n  export const EMPLOYEE_ACCOUNT_TYPE = &#123;\n    QQ: &#123;\n      value: 1,\n      desc: &#39;QQ登录&#39;\n    &#125;,\n    WECHAT: &#123;\n      value: 2,\n      desc: &#39;微信登录&#39;\n    &#125;,\n    DINGDING: &#123;\n      value: 3,\n      desc: &#39;钉钉登录&#39;\n    &#125;,\n    USERNAME: &#123;\n      value: 4,\n      desc: &#39;用户名密码登录&#39;\n    &#125;\n  &#125;;\n  export default &#123;\n    EMPLOYEE_STATUS,\n    EMPLOYEE_ACCOUNT_TYPE\n  &#125;;\n\nrouter 与 store 目录\n\n\n\n\n\n\n\n\n这两个目录一定要将业务进行拆分，不能放到一个 js 文件里。\n\n\n\n\n\n\n\n\n\nrouter 尽量按照 views 中的结构保持一致\n\n\n\n\n\n\n\n\n\nstore 按照业务进行拆分不同的 js 文件\nviews 目录\n\n\n\n\n\n\n\n\n命名要与后端、router、api 等保持一致\n\n\n\n\n\n\n\n\n\ncomponents 中组件要使用 PascalCase 规则\n  |-- views                                    视图目录\n  |   |-- role                                 role模块名\n  |   |   |-- role-list.vue                    role列表页面\n  |   |   |-- role-add.vue                     role新建页面\n  |   |   |-- role-update.vue                  role更新页面\n  |   |   |-- index.less                      role模块样式\n  |   |   |-- components                      role模块通用组件文件夹\n  |   |   |   |-- role-header.vue             role头部组件\n  |   |   |   |-- role-modal.vue              role弹出框组件\n  |   |-- employee                            employee模块\n  |   |-- behavior-log                        行为日志log模块\n  |   |-- code-generator                      代码生成器模块\n\n注释说明\n整理必须加注释的地方\n公共组件使用说明\napi 目录的接口 js 文件必须加注释\nstore 中的 state, mutation, action 等必须加注释\nvue 文件中的 template 必须加注释，若文件较大添加 start end 注释\nvue 文件的 methods，每个 method 必须添加注释\nvue 文件的 data, 非常见单词要加注释\n\n其他尽量不要手动操作 DOM\n\n\n\n\n\n\n\n\n因使用 vue 框架，所以在项目开发中尽量使用 vue 的数据驱动更新 DOM，尽量（不到万不得已）不要手动操作 DOM，包括：增删改 dom 元素、以及更改样式、添加事件等。\n删除无用代码\n\n\n\n\n\n\n\n\n因使用了 git&#x2F;svn 等代码版本工具，对于无用代码必须及时删除，例如：一些调试的 console 语句、无用的弃用功能代码。\n","slug":"ali-vue","date":"2022-10-15T10:49:36.000Z","categories_index":"规范","tags_index":"Vue 规范","author_index":"虞建辉"},{"id":"18db155cdf7884a42c7fab4d4de46a4c","title":"search 搜索框","content":"search 搜索框通用页面搜索使用，支持input slect date, 多条件时支持展开缩放功能\n演示案例示例一\n通用页面搜索使用，支持input slect date, 多条件时支持展开缩放功能，只需配置搜索搜索项\n&lt;template&gt;\n  &lt;div&gt;\n    &lt;div&gt;\n      &lt;BaseSearch :options.sync=&quot;options&quot; @search=&quot;search&quot;&gt;\n      &lt;/BaseSearch&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n  export default &#123;\n    data() &#123;\n      return &#123; \n        // 配置搜索项\n        options: &#123;\n          open: false, // 当搜索条件大于3个时，是否展开搜索条件。默认不展开\n          data: [\n            &#123;\n              label: &#39;下拉选择&#39;,\n              prop: &quot;pcUuid&quot;, // 字段标识\n              type: &#39;select&#39;, // 类型\n              value: &#39;&#39;, // 初始值\n              clearable: false, // 是否可清空 默认可清空\n              filterable: true, // 搜索框是否可输入文字搜索 默认不可以\n              dicData: [&#123; // 数据配置项 目前只支持配置，不支持接口获取\n                name: &#39;下拉数据1&#39;,\n                value: 1\n              &#125;,&#123;\n                name: &#39;下拉数据2&#39;,\n                value: 2\n              &#125;,&#123;\n                name: &#39;下拉数据3&#39;,\n                value: 3\n              &#125;]\n            &#125;,\n            &#123;\n              label: &#39;输入测试&#39;,\n              type: &#39;input&#39;, // 输入类型\n              prop: &#39;cc&#39;,\n              value: &#39;&#39;\n            &#125;,\n            &#123;\n              label: &#39;开始时间&#39;,\n              type: &#39;date&#39;, // 时间类型\n              prop: &#39;ksrqks&#39;,\n              value: &#39;&#39;,\n              pickerOptions: &#123; // 时间选择配置项\n                disabledDate: true, // 时间选择限制是否开启 未开启 则时间选择不限制\n                compareValue: &#39;ksrqjs&#39;, // 开启后比较对象key \n                compareType: &quot;&lt;&quot;, // 限制规则 &lt; ,&gt; = 只支持三种\n              &#125;\n            &#125;,\n            &#123;\n              label: &#39;结束时间&#39;, // 同上\n              type: &#39;date&#39;,\n              prop: &#39;ksrqjs&#39;,\n              value: &#39;&#39;,\n              pickerOptions: &#123;\n                disabledDate: true,\n                compareValue: &#39;ksrqks&#39;,\n                compareType: &quot;&gt;&quot;,\n              &#125;\n            &#125;,\n          ]\n        &#125;,\n      &#125;\n    &#125;,\n\n    methods: &#123;\n      // 搜索回调方法\n      search(data = &#123;&#125;) &#123;\n        console.log(&quot;data==&gt;&quot;, data)\n      &#125;,\n    &#125;\n  &#125;\n&lt;/script&gt;\n\n\n\n示例二\n通用页面搜索使用，支持input slect date, 多条件时支持展开缩放功能，只需配置搜索搜索项\n&lt;template&gt;\n  &lt;div&gt;\n    &lt;div&gt;\n      &lt;BaseSearch :options.sync=&quot;options2&quot; @search=&quot;search&quot;&gt;\n      &lt;/BaseSearch&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n  export default &#123;\n    data() &#123;\n      return &#123; \n        options2: &#123;\n          open: false, // 当搜索条件大于3个时，是否展开搜索条件。默认不展开\n          data: [\n            &#123;\n              label: &#39;下拉选择&#39;,\n              prop: &quot;pcUuid&quot;, // 字段标识\n              type: &#39;select&#39;, // 类型\n              value: &#39;&#39;, // 初始值\n              clearable: false, // 是否可清空 默认可清空\n              dicData: [&#123; // 数据配置项 目前只支持配置，不支持接口获取\n                name: &#39;下拉数据1&#39;,\n                value: 1\n              &#125;,&#123;\n                name: &#39;下拉数据2&#39;,\n                value: 2\n              &#125;,&#123;\n                name: &#39;下拉数据3&#39;,\n                value: 3\n              &#125;]\n            &#125;,\n            &#123;\n              label: &#39;输入测试&#39;,\n              type: &#39;input&#39;, // 输入类型\n              prop: &#39;cc&#39;,\n              value: &#39;&#39;\n            &#125;,\n          ]\n        &#125;\n      &#125;\n    &#125;,\n\n    methods: &#123;\n      // 搜索回调方法\n      search(data = &#123;&#125;) &#123;\n        console.log(&quot;data==&gt;&quot;, data)\n      &#125;,\n    &#125;\n  &#125;\n&lt;/script&gt;\n\n\n\n参数描述\n\n\n\n\n\n\n\n\noptions配置\n\n\n\n参数\n说明\n类型\n可选值\n默认值\n\n\n\nopen\n当搜索条件大于3个时，是否展开搜索条件。默认不展开\nBoolean\ntrue&#x2F;false\nfalse\n\n\ndata\n查询条件数据集\nArray\n-\n-\n\n\n\n\n\n\n\n\n\n\n\ndata描述\n\n\n\n参数\n说明\n类型\n可选值\n默认值\n\n\n\nlabel\n搜索名称\nString\n-\n-\n\n\nprop\n字段标识搜索返回的字段key\nString\n-\n-\n\n\ntype\n类型\ninput&#x2F;select&#x2F;date\n-\n-\n\n\nvalue\n初始值\nString\n-\n-\n\n\nclearable\n是否可清除\nBoolean\ntrue&#x2F;false\ntrue\n\n\nfilterable\ntype&#x3D;select有效 是否可输入\nBoolean\ntrue&#x2F;false\ntrue\n\n\ndicData\n下拉选择项 当type &#x3D; select时必填。数据格式[{name: ‘’, value: ‘’}…]\nArray\n-\n-\n\n\n事件\n\n\n事件\n说明\n参数\n\n\n\nsearch\n当用户点击搜索按钮，或者下拉选择数据时触发事件\ndata\n\n\n","slug":"base-search","date":"2022-10-15T10:49:36.000Z","categories_index":"组件","tags_index":"组件封装","author_index":"虞建辉"},{"id":"7040123dc57dfce05b41c99868608d8e","title":"table 列表","content":"table 列表封装table列表并将分页封装其中 目的实现配置话开发。\n演示案例\n对el-table 的二次封装，内置了分页pagination，数据配置化，也可通过插槽实现自定义样式。\n&lt;template&gt;\n  &lt;div&gt;\n   &lt;BaseTablePageData\n      :dataSource=&quot;datalist&quot;\n      :pagination=&quot;page&quot;\n      :height=&quot;tableHeight&quot;\n      :columns=&quot;columns&quot;\n      @handleSelectionChange=&quot;handleSelectionChange&quot;\n      @handleSizeChange=&quot;handleSizeChange&quot;\n      @handleCurrentChange=&quot;handleCurrentChange&quot;\n    &gt;\n      &lt;template slot=&quot;left&quot;&gt;\n        &lt;el-table-column\n          type=&quot;selection&quot;\n          width=&quot;50&quot;\n          align=&quot;center&quot;\n          headerAlign=&quot;center&quot;\n          fixed=&quot;left&quot;\n          :selectable=&quot;checkSelect&quot;\n        &gt;&lt;/el-table-column&gt;\n        &lt;el-table-column\n          type=&quot;index&quot;\n          width=&quot;50&quot;\n          align=&quot;center&quot;\n          headerAlign=&quot;center&quot;\n          label=&quot;序号&quot;\n          fixed=&quot;left&quot;\n        &gt;&lt;/el-table-column&gt;\n      &lt;/template&gt;\n      &lt;template slot=&quot;action&quot; slot-scope=&quot;scope&quot;&gt;\n        &lt;el-button\n          type=&quot;primary&quot;\n          size=&quot;mini&quot;\n          plain\n          icon=&quot;el-icon-edit&quot;\n        &gt;\n          编辑\n        &lt;/el-button&gt;\n        &lt;el-button\n          type=&quot;primary&quot;\n          size=&quot;mini&quot;\n          plain\n          icon=&quot;el-icon-view&quot;\n        &gt;\n          查看\n        &lt;/el-button&gt;\n      &lt;/template&gt;\n    &lt;/BaseTablePageData&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n  export default &#123;\n    data() &#123;\n      return &#123; \n        tableHeight: &quot;400px&quot;,\n        selectSessionList: [],\n         page: &#123; //分页字段\n          current: 1,\n          size: 20,\n          total: 0\n        &#125;,\n\n        columns: [\n          &#123;\n            title: &quot;科目名称&quot;,\n            dataIndex: &quot;kmmc&quot;,\n            key: &quot;kmmc&quot;,\n            width: 100,\n          &#125;,\n          &#123;\n            title: &quot;考试批次&quot;,\n            dataIndex: &quot;pcmc&quot;,\n            key: &quot;pcmc&quot;,\n            showOverflowTooltip: true\n          &#125;,\n          &#123;\n            title: &quot;场次名称&quot;,\n            dataIndex: &quot;cc&quot;,\n            key: &quot;cc&quot;,\n            width: 100,\n          &#125;,\n          &#123;\n            title: &quot;考试日期&quot;,\n            dataIndex: &#39;ksrq&#39;,\n            key: &#39;ksrq&#39;,\n            width: 100,\n            showOverflowTooltip: true\n          &#125;,\n          &#123;\n            title: &quot;场次开始时间&quot;,\n            dataIndex: &quot;cckssj&quot;,\n            key: &#39;cckssj&#39;,\n            width: 120,\n          &#125;,\n          &#123;\n            title: &quot;场次结束时间&quot;,\n            dataIndex: &quot;ccjssj&quot;,\n            key: &#39;ccjssj&#39;,\n            width: 120,\n          &#125;,\n          &#123;\n            title: &quot;排序&quot;,\n            dataIndex: &quot;px&quot;,\n            key: &#39;px&#39;,\n            width: 60,\n          &#125;,\n          &#123;\n            title: &quot;创建时间&quot;,\n            dataIndex: &quot;ctstamp&quot;,\n            key: &quot;ctstamp&quot;,\n            width: 150,\n            showOverflowTooltip: true\n          &#125;,\n          &#123;\n            title: &quot;操作&quot;,\n            key: &quot;action&quot;,\n            width: 200,\n            fixed: &quot;right&quot;,\n          &#125;\n        ],\n        datalist: [\n          &#123;\n            uuid:&quot;41705292c18f4c4a8e2eee36e19c2e91&quot;,\n            pcUuid:&quot;f453e14f-9e89-11ec-a315-2x2x1a666&quot;,\n            pcmc:&quot;2022年福建省高职院校分类考试招生职业技能测试&quot;,\n            kmUuid:&quot;a3f18353275745c9891c30e7e17cf5c5&quot;,\n            kmmc:&quot;英语&quot;,\n            ksrq:&quot;2022-09-22&quot;,\n            cc:&quot;第一场&quot;,\n            cckssj:&quot;11:00&quot;,\n            ccjssj:&quot;12:00&quot;,\n            cssj:null,\n            ctstamp:&quot;2022-12-02 15:18:11&quot;,\n            px:1\n          &#125;,\n          &#123;\n            &quot;uuid&quot;:&quot;afa5007aa4674992aa114b281f87cdaa&quot;,\n            &quot;pcUuid&quot;:&quot;f453e14f-9e89-11ec-a315-2x2x1a666&quot;,\n            &quot;pcmc&quot;:&quot;2022年福建省高职院校分类考试招生职业技能测试&quot;,\n            &quot;kmUuid&quot;:&quot;a3f18353275745c9891c30e7e17cf5c5&quot;,\n            &quot;kmmc&quot;:&quot;英语&quot;,&quot;ksrq&quot;:&quot;2022-11-01&quot;,\n            &quot;cc&quot;:&quot;第二场&quot;,\n            &quot;cckssj&quot;:&quot;07:00&quot;,\n            &quot;ccjssj&quot;:&quot;08:00&quot;,\n            &quot;cssj&quot;:null,\n            &quot;ctstamp&quot;:&quot;2022-12-02 14:52:37&quot;,\n            &quot;px&quot;:2\n          &#125;,\n          &#123;\n            &quot;uuid&quot;:&quot;f7e31c8211c3428ba3bfcac2863fffa7&quot;,\n            &quot;pcUuid&quot;:&quot;f453e14f-9e89-11ec-a315-2x2x1a666&quot;,\n            &quot;pcmc&quot;:&quot;2022年福建省高职院校分类考试招生职业技能测试&quot;,\n            &quot;kmUuid&quot;:&quot;a3f18353275745c9891c30e7e17cf5c5&quot;,\n            &quot;kmmc&quot;:&quot;英语&quot;,\n            &quot;ksrq&quot;:&quot;2022-11-01&quot;,\n            &quot;cc&quot;:&quot;第三场&quot;,\n            &quot;cckssj&quot;:&quot;09:00&quot;,\n            &quot;ccjssj&quot;:&quot;11:00&quot;,\n            &quot;cssj&quot;:null,\n            &quot;ctstamp&quot;:&quot;2022-12-02 14:52:37&quot;,\n            &quot;px&quot;:3\n          &#125;,\n          &#123;\n            &quot;uuid&quot;:&quot;7a9f426bbbf84fd6a15f0f2bf8227444&quot;,\n            &quot;pcUuid&quot;:&quot;f453e14f-9e89-11ec-a315-2x2x1a666&quot;,\n            &quot;pcmc&quot;:&quot;2022年福建省高职院校分类考试招生职业技能测试&quot;,\n            &quot;kmUuid&quot;:&quot;a3f18353275745c9891c30e7e17cf5c5&quot;,\n            &quot;kmmc&quot;:&quot;英语&quot;,\n            &quot;ksrq&quot;:&quot;2022-12-29&quot;,\n            &quot;cc&quot;:&quot;第四场&quot;,\n            &quot;cckssj&quot;:&quot;09:00&quot;,\n            &quot;ccjssj&quot;:&quot;12:00&quot;,\n            &quot;cssj&quot;:null,\n            &quot;ctstamp&quot;:&quot;2022-11-29 16:34:35&quot;,\n            &quot;px&quot;:4\n          &#125;\n        ],\n      &#125;\n    &#125;,\n\n    methods: &#123;\n      // 搜索回调方法\n      search(data = &#123;&#125;) &#123;\n        console.log(&quot;data==&gt;&quot;, data)\n      &#125;,\n\n      checkSelect() &#123;\n        return true\n      &#125;,\n\n      // 列表已勾选的场次\n      handleSelectionChange(val) &#123;\n        this.selectSessionList = val\n      &#125;,\n\n      // 分页操作--修改每页展示条数\n      async handleSizeChange(val) &#123;\n        this.page.size = val;\n        this.page.current = 1;\n        // 重新获取数据\n        this.getSessionList(this.page)\n      &#125;,\n\n      // 分页操作--修改页数\n      async handleCurrentChange(val) &#123;\n        this.page.current = val;\n        this.getSessionList(this.page)\n      &#125;\n    &#125;\n  &#125;\n&lt;/script&gt;\n\n\n\n参数描述总的参数描述\n\n\n\n参数\n说明\n类型\n可选值\n默认值\n\n\n\ndataSource\n显示的数据\nArray\n-\n-\n\n\nheight\nTable 的高度，默认为自动高度。如果 height 为 number 类型，单位 px；如果 height 为 string 类型，则这个高度会设置为 Table 的 style.height 的值，Table 的高度会受控于外部样式。\nString&#x2F;Number\n-\n-\n\n\npagination\n分页数据(详情查看下方)\nObject\n-\n-\n\n\ncolumns\n表格列的配置描述，具体项见下表\nArray\n-\n-\n\n\n\n\n\n\n\n\n\n\n\npagination 配置\n\n\n\n参数\n说明\n类型\n可选值\n默认值\n\n\n\ncurrent\n显示的页码\nNumber\n-\n1\n\n\nsize\n每页显示条数\nNumber\n-\n20\n\n\ntotal\n总条数\nNumber\n-\n0\n\n\n\n\n\n\n\n\n\n\n\ncolumns 配置\n\n\n\n参数\n说明\n类型\n可选值\n默认值\n\n\n\ntitle\n列头显示文字\nString\n-\n-\n\n\nwidth\n每列宽度\nNumber\n-\n-\n\n\nkey\n插槽识别标识，可自定义设置列表数据样式,唯一不可重复\nString\n-\n-\n\n\ndataIndex\n数据字段标识\nString\n-\n-\n\n\nshowOverflowTooltip\n默认情况下若内容过多会折行显示, 为true时多余的内容会在 hover 时以 tooltip 的形式显示出来。\nBoolean\n-\nfalse\n\n\nfixed\n列是否固定在左侧或者右侧，true 表示固定在左侧 ｜ String&#x2F;Boolean\ntrue, left, right\n-\n\n\n\nalign\n对齐方式\nString\nleft&#x2F;center&#x2F;right\nleft\n\n\nheaderAlign\n表头对齐方式，若不设置该项，则使用表格的对齐方式\nString\nleft&#x2F;center&#x2F;right\n-\n\n\nslot列表默认设置了插槽 方便自定义\n\n\n\n参数\n说明\n类型\n可选值\n默认值\n\n\n\nleft\n列表左侧插槽，查看上方例子\nString\n-\n-\n\n\nright\n列表右侧插槽，同上\nString\n-\n-\n\n\ncolumns.key\ncolumns列表数据插槽，查看上方例子，操作栏数据\nString\n-\n-\n\n\n事件table 的操作事件\n\n\n\n事件\n说明\n参数\n\n\n\nhandleSelectionChange\n当列表有多选框时，勾选触发的事件,多选框的table-column 比较特殊，案例是已slot形式添加的。\nArray\n\n\nhandleSizeChange\n当用户修改页面显示条数时触发\nval\n\n\nhandleCurrentChange\n当用户修改页码时触发\nval\n\n\n","slug":"base-table","date":"2022-10-15T10:49:36.000Z","categories_index":"组件","tags_index":"组件封装","author_index":"虞建辉"},{"id":"c296943c65b43b76bdcdb70695a515ae","title":"css 规范","content":"css 规范css 规范文档\n命名\n样式类名使用小写字母，以半角连接符(-)分割；\n\nid 采用驼峰式命名；\n\nscss &#x2F; less 中的变量、函数、混合、placeholder 采用驼峰式命名\n\n\n不推荐：  .fw-800 &#123;\n    font-weight: 800;\n  &#125;\n  .red &#123;\n    color: red; \n  &#125;\n\n推荐:  .heavy &#123;\n    font-weight: 800;\n  &#125;\n  .important &#123; \n    color: red; \n  &#125;\n\n选择器\ncss 选择器中避免使用标签名\n\n\n\n\n\n\n\n\n\n从结构，表现，行为分离的原则来看，应改尽量避免css 中出现HTML 标签，并且在css 选择器种出现标签名会存在潜在的问题。\n\n使用直接子选择器\n\n\n\n\n\n\n\n\n\n很多前端开发人员写选择器链的时候不使用直接子选择器（注：直接子选择器和后代选择器的区别）。有时，这可能会导致疼痛的设计问题并且有时候会很消耗性能。然而，在任何情况下，这是一个非常不好的做法。如果米不屑很通用的，需要匹配到DOM 末端的选择器，你应该总是考虑直接子选择器。\n\n\n不推荐：  .content .title &#123;\n    font-size: 2rem;\n  &#125;\n\n推荐: .content &gt; .title &#123;\n    font-size: 2rem;\n  &#125;\n\n尽量使用缩写属性不推荐：  border-top-style: none; \n  font-family: palatino, georgia, serif; \n  font-size: 100%; line-height: 1.6; \n  padding-bottom: 2em; \n  padding-left: 1em;\n  padding-right: 1em; \n  padding-top: 0;\n\n推荐:  border-top: 0; \n  font: 100%/1.6 palatino, georgia, serif; \n  padding: 0 1em 2em;\n   \n\n省略 0 后面的单位不推荐：  div &#123;\n    padding-bottom: 0px; \n    margin: 0em;\n  &#125;\n\n推荐:  div &#123;\n    padding-bottom: 0; \n    margin: 0; \n  &#125;\n\n避免使用 ID 选择器及全局标签选择器防止污染全局样式不推荐：  #header &#123;\n    padding-bottom: 0px; \n    margin: 0em;\n  &#125;\n\n推荐:  .header &#123; \n    padding-bottom: 0px; \n    margin: 0em; \n  &#125;\n\n墙裂推荐 BEM 命名为什么需要BEM  如果编写项目的 CSS 代码只有你一个人，或者项目的 CSS 代码量很小，你可以用你喜欢，习惯的方式去组织你的 CSS 代码。但是项目更大，更复杂，有多人编写项目的 CSS 代码（每个人有自己的风格），代码量大的时候，就需要一种统一形式去组织 CSS 代码，这时候 BEM 就派上用场了。\n什么是BEM  BEM(Block Element Modifier) 是一种命名CSS class的模式，使用这种模式可以让 CSS 代码更加利于维护。标准的 BEM 写法是 .block-name__element-name–modifier-name。\nBlock\n\n\n\n\n\n\n\n\n页面上逻辑和功能独立的，可复用的组件，可以嵌套并相互交互，但在语义上它们保持平等，可以存在页面上不同的位置或不同项目中，保持样式不变。\n  可以使用字母，数字，连字符进行命名，任何html元素都可以成为一个block，不依赖于页面上的其他block或者element。\n  &lt;header class=&quot;header&quot;&gt;&lt;/header&gt;\n\n  .header &#123;\n    color: #333;\n    background: #f5f5f5;\n  &#125;\n\nElement\n\n\n\n\n\n\n\n\n组成块的一部分，内部的任何元素都与块有关联，不能在块的外部使用。\n    &lt;article class=&quot;article&quot;&gt;\n      &lt;h2 class=&quot;article__title&quot;&gt;&lt;/h2&gt;\n      &lt;p class=&quot;article__content&quot;&gt;&lt;/p&gt;\n    &lt;/article&gt;\n\n    .article &#123;\n      padding: 12px;\n    &#125;\n\n    .article__title &#123;\n      font-size: 1rem;\n    &#125;\n\n    .article__content &#123;\n      font-size: .9rem;\n    &#125;\n\nModifier\n\n\n\n\n\n\n\n\n用来表示块或者元素的状态，外观或者行为，不必须，可以选择使用。\n    &lt;button class=&quot;btn btn--disabled&quot;&gt;&lt;/button&gt;\n\n    .btn &#123;\n      color:  #333;\n      background-color: #fff;\n    &#125;\n\n    .btn--disabled &#123;\n      color: #fff;\n      background-color: #6c757d;\n    &#125;\n\n示例\n这样的卡片是一个单独的块\n  &lt;div class=&quot;list-card&quot;&gt;\n    &lt;img class=&quot;list-card__img&quot; /&gt;\n    &lt;div class=&quot;list-card__content&quot;&gt;\n      &lt;a class=&quot;list-card__link&quot;&gt;&lt;/a&gt;\n      &lt;p class=&quot;list-card__desc&quot;&gt;&lt;/p&gt;\n      &lt;div class=&quot;list-card__stats&quot;&gt;\n        &lt;span class=&quot;list-card__stat&quot;&gt;&lt;i class=&quot;list-card__icon&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n        &lt;span class=&quot;list-card__stat&quot;&gt;&lt;i class=&quot;list-card__icon&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n        &lt;span class=&quot;list-card__stat&quot;&gt;&lt;i class=&quot;list-card__icon&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n        &lt;span class=&quot;list-card__date&quot;&gt;&lt;/span&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n常用CSS class名包裹类      container,  wrapper,    outer,    inner,    box,\n      header,     footer,     main,     content,  aside,\n      page,       section,    block\n\n状态类      primary,    secondary,  success,  danger,   warning,\n      info,       error,      Link,     light,    dark,\n      disabled,   active,     checked,  loading\n\n尺寸类      large,      middle,     small,    bigger,    smaller\n\n组件类      card,       list,       picture,  carousel,   swiper,\n      menu,       navs,       badge,    hint,       modal,\n      dialog\n\n位置类      first,      last,       current,  prev,       next,\n      forward,    back\n\n文本类      title,      desc,       content,  date,        author,\n      category，  label，      tag\n\n人物类      avatar,     name,       age,      post,         intro\n\n推荐学习 scss","slug":"css-standard","date":"2022-10-15T10:49:36.000Z","categories_index":"规范","tags_index":"css规范","author_index":"虞建辉"},{"id":"4d9513f4ca1217585e9de135aa4bfa69","title":"Git操作规范","content":"Git规范写好git commit提交有什么好处呢？\n查看提交的log也非常的优雅，这个就不多提了\n\n方便查找日志记录，通过简单的过滤便能定位到具体想要查找的log\n\n方便问题回溯，通过git log就能查找到当时提交的代码文件，以及修改的代码\n\n其实如果使用过github的release, 可以直接根据feat和fix来过滤提取日志发布版本\n\n\n如何提交git commit\n创建自己分支 (Yjh&#x2F;{type}&#x2F;xxx) 头部为提交人缩写 type为提交类型 xxx为模块描述\n\n编写 commit 内容，内容应该尽量精简描述\n\n\n  type 值一般有以下几种：\n- feat：新功能 feature\n- bug：测试反馈 bug 列表中的 bug 号\n- fix： 修复 bug\n- ui：更新UI；\n- docs： 文档注释变更\n- style： 代码格式(不影响代码运行的变动)；\n- refactor： 重构、优化(既不增加新功能，也不是修复bug)；\n- perf： 性能优化；\n- release：发布；\n- deploy：部署；\n- test： 增加测试\n- chore： 构建过程或辅助工具的变动\n- revert： 回退\n- build： 打包\n\nGIT 常用操作创建存储库  创建一个新的本地存储库\n  $ git init [项目名称]\n\n  克隆存储库(代码仓库)\n  $ git clone &lt;git_url&gt;\n\n  将存储库克隆到指定目录\n  $ git clone &lt;git_url&gt; 指定目录\n\n  将存储库克隆到指定目录，并指定分支\n  $ git clone &lt;git_url&gt; -b &lt;分支名称&gt; 指定目录\n\n使用分支  列出所有本地分支\n  $ git branch\n\n  列出所有分支，本地和远程\n  $ git branch -av\n\n  切换到 my_branch，并更新工作目录\n  $ git checkout my_branch\n\n  创建一个名为 new_branch 的新分支\n  $ git checkout -b new_branch\n\n  删除名为 my_branch 的分支\n  $ git branch -d my_branch\n\n  将分支 A 合并到分支 B\n  $ git checkout branchB\n  $ git merge branchA\n\n  标记当前提交\n  $ git tag my_tag\n\n  从远程分支中创建并切换到本地分支\n  $ git checkout -b &lt;branch-name&gt; origin/&lt;branch-name&gt;\n\n做出改变  在工作目录中显示修改后的文件，为您的下一次提交暂存\n  $ git status\n\n  暂存文件，准备提交\n  $ git add [file]\n\n  暂存所有更改的文件，准备提交\n  $ git add .\n\n  将所有暂存文件提交到版本化历史记录\n  $ git commit -m &quot;commit message&quot;\n\n  将所有跟踪的文件提交到版本化历史记录\n  $ git commit -am &quot;commit message&quot;\n\n  取消暂存文件，保留文件更改\n  $ git reset [file]\n\n  将所有内容恢复到最后一次提交\n  $ git reset --hard\n\n  已更改但未暂存内容的差异\n  $ git diff\n\n  已 commited 但尚未提交的内容的差异\n  $ git diff --staged\n\n  在指定分支之前应用当前分支的任何提交\n  $ git rebase [branch]\n\n配置  设置将附加到您的提交和标签的名称\n  $ git config --global user.name &quot;name&quot;\n\n  设置将附加到您的提交和标签 tags 的电子邮件地址\n  $ git config --global user.email &quot;email&quot;\n\n  启用 Git 输出的一些着色\n  $ git config --global color.ui auto\n\n  在文本编辑器中编辑全局配置文件\n  $ git config --global --edit\n\n  显示本地 repo 配置设置\n  $ git config --list\n\n  删除全局设置\n  $ git config --global --unset &lt;entry-name&gt;\n\n重构文件名  # 从工作目录中删除文件并暂存删除\n  git rm &lt;filename&gt;\n\n  # 从版本控制中删除文件但在本地保留文件\n  git rm --cached &lt;filename&gt;\n\n  # 更改文件名并准备提交\n  git mv &lt;filename-orig&gt; &lt;filename-renamed&gt;\n\n同步  从该 Git 远程获取所有分支\n  $ git fetch [alias]\n\n  将远程分支合并到当前分支以使其保持最新状态\n  $ git merge [alias]/[branch]\n\n  # 没有快进\n  $ git merge --no-ff [alias]/[branch]\n\n  # 仅快进\n  $ git merge --ff-only [alias]/[branch]\n\n  将本地分支提交传输到远程存储库分支\n  $ git push [alias] [branch]\n\n  从跟踪远程分支获取并合并任何提交\n  $ git pull\n\n  将另一个分支的一个特定提交合并到当前分支\n  $ git cherry-pick [commit_id]\n\n临时提交  # 保存已修改和分阶段的更改\n  $ git stash\n\n  # 列出隐藏文件更改的堆栈顺序\n  $ git stash list\n\n  # 从存储堆栈顶部编写工作\n  $ git stash pop\n\n  # 丢弃存储堆栈顶部的更改\n  $ git stash drop\n\n  # 回到某个 stash 的状态\n  $ git stash apply &lt;stash@&#123;n&#125;&gt;\n\n  # 删除所有的 stash\n  $ git stash clear\n\n观察你的存储库  显示当前活动分支的提交历史\n  $ git log\n\n  显示 branchA 上不在 branchB 上的提交\n  $ git log branchB..branchA\n\n  显示更改文件的提交，即使跨重命名\n  $ git log --follow [file]\n\n  显示 branchA 中的内容与 branchB 中的内容的差异\n  $ git diff branchB...branchA\n\n  以人类可读的格式显示 Git 中的任何对象\n  $ git show [SHA]\n\n忽略文件  文件 .gitignore 指定了 Git 应该忽略的 未跟踪的 文件\n\n  行首 #\t全行注释，不支持行尾类注释 (转义 \\#)\n  行首 !\t否定模式 (转义 \\!)\n  **\t匹配任意路径\n  *\t匹配任意多个字符\n  ?\t匹配任意一个字符\n  doc/**\t匹配 doc 文件夹下的全部内容\n  doc/**/a\t匹配任意深度路径下的 a 文件或文件夹\n  /\t表示路径分隔符，不区分操作系统\n  / 结尾\t仅会匹配文件夹，否则会匹配文件和文件夹\n  空行\t不匹配任何文件\n  行尾空格\t默认被忽略，可使用\\进行转义\n  行首空格\t被正常处理，不会被忽略\n  当前 .gitignore 文件定义规则的优先级高于上级路径 .gitignore 定义规则的优先级；后定义的规则优先级高于前面定义规则的优先级\n\n忽略当前目录logs文件夹下的全部内容  /logs/\n  /logs/*\n  /logs/**\n\n上述几条规则等效忽略 Mac 系统文件，包括任意子路径下的同名文件（夹）  .DS_store\n\n忽略 node_modules 文件夹，包括任意子路径下的同名文件夹  node_modules/\n\n忽略任意子路径下build、target文件夹，但不忽略src&#x2F;main、src&#x2F;test下的build、target文件夹  build/\n  !**/src/main/**/build/\n  !**/src/test/**/build/\n  target/\n  !**/src/main/**/target/\n  !**/src/test/**/target/\n\n使用 ! 重新包含指定文件（夹）  !logs/.gitkeep\n\n远程  添加一个 git URL 作为别名\n  $ git remote add [alias] [url]\n\n  显示您设置的远程存储库的名称\n  $ git remote\n\n  显示远程存储库的名称和 URL\n  $ git remote -v\n\n  删除远程存储库\n  $ git remote rm [remote repo name]\n  更改 git repo 的 URL\n\n  $ git remote set-url origin [git_url]\n\n跟踪路径更改  从项目中删除文件并暂存删除以进行提交\n  $ git rm [file]\n\n  更改现有文件路径并暂存移动\n  $ git mv [existing-path] [new-path]\n\n  显示所有提交日志，并指示任何移动的路径\n  $ git log --stat -M\n\ngit 配置 ssh 代理  $ cat ~/.ssh/config\n  Host gitlab.com\n\n直接使用 shadowsocks 提供的 socks5 代理端口  ProxyCommand nc -X 5 -x 127.0.0.1:1080 %h %p \n\n  Host github.com\n  ProxyCommand nc -X 5 -x 127.0.0.1:1080 %h %p\n\nGit 技巧重命名分支重命名为new  $ git branch -m &lt;new&gt;\n  $ git branch -m &lt;old&gt; &lt;new&gt; #重命名分支\n\n推送并重置  $ git push origin -u &lt;new&gt;\n\n删除远程分支  $ git push origin --delete &lt;old&gt; #方法1\n  $ git push origin :oldBranchName #方法2\n\nLog按内容搜索更改  $ git log -S&#39;&lt;a term in the source&gt;&#39;\n\n显示特定文件随时间的变化  $ git log -p &lt;file_name&gt;\n\n打印出很酷的日志可视化  $ git log --pretty=oneline --graph --decorate --all\n\nCommit  $ git commit -v --amend\n  重写最后的提交信息\n\n忽略文件的权限变化  git config core.fileMode false\n  不再将文件的权限变化视作改动\n\n分支列出所有分支及其上游  $ git branch -vv\n\n快速切换到上一个分支  $ git checkout -\n\n只获取所有远程分支  $ git branch -r\n\n从另一个分支签出单个文件  $ git checkout &lt;branch&gt; -- &lt;file&gt;\n\n删除本地存在远程不存在的分支  git remote prune origin\n\nGit 别名  $ git config --global alias.co checkout\n\n  $ git config --global alias.br branch\n  \n  $ git config --global alias.ci commit\n  \n  $ git config --global alias.st status\n\n设置大小写敏感查看git 的设置  $ git config --get core.ignorecase\n\n设置大小写敏感  $ git config core.ignorecase false\n\n远程有俩相同目录，通过这种方式清除掉，然后提交记录  $ git rm -r --cached &lt;目录/文件&gt;\n\n撤销远程记录撤销一条记录  $ git reset --hard HEAD~1\n\n强制同步到远程仓库  $ git push -f origin HEAD:master\n\n放弃本地修改内容如果有的修改以及加入暂存区的话  $ git reset --hard \n\n还原所有修改，不会删除新增的文件  $ git checkout . \n\n下面命令会删除新增的文件  $ git clean -xdf\n\n获取最近一次提交的 Hash  $ git rev-parse HEAD # e10721cb8859b2c\n  获取短 hash\n  $ git rev-parse --short HEAD # e10721c\n\n删除已经合并到 master 的分支  $ git branch --merged master | grep -v &#39;^\\*\\|  master&#39; | xargs -n 1 git branch -d\n\n把 A 分支的某一个 commit，放到 B 分支上  # 切换到 B 分支\n  $ git checkout &lt;B&gt;\n  # 将 A 分支 &lt;hash-id&gt; 的内容 pick 到 B 分支\n  $ git cherry-pick &lt;hash-id&gt;\n\n回到远程仓库的状态  $ git fetch --all &amp;&amp; git reset --hard origin/master\n\n修改远程 Commit 记录表示要修改当前版本的倒数第三次状态  $ git rebase -i HEAD~3\n\n将要更改的记录行首单词 pick 改为 edit  pick 96dc3f9 提交 commit 描述内容 1\n  pick f1cce8a 提交 commit 描述内容 2\n  pick 6293516 提交 commit 描述内容 3\n  # Rebase eeb03a4..6293516 onto eeb03a4 \n  #                     (3 commands)\n  #\n  # Commands:\n  # p, pick = 使用提交\n  # r, reword = 使用提交，但编辑提交消息\n  # e, edit = 使用提交，但停止修改\n  # s, squash = 使用提交，但融合到先前的提交中\n  # f, fixup = 像 squash，但丢弃此提交的日志消息\n  # x, exec = 使用 shell 运行命令(该行的其余部分)\n  # d, drop = 删除提交\n\n  保存并退出，会弹出下面提示\n\n  # 您现在可以修改提交，使用\n  # \n  #   git commit --amend\n  # \n  # 对更改感到满意后，运行\n  # \n  #   git rebase --continue\n  #\n  # 1. 通过这条命令进入编辑更改 commit，保存退出\n  $ git commit --amend\n  # 2. 保存退出确认修改，继续执行下面命令, \n  $ git rebase --continue\n  # 如果修改多条记录反复执行上面两条命令直到完成所有修改\n\n  # 最后，确保没有人提交进行推送，最好不要加 -f 强制推送\n  $ git push -f origin master\n\n查看冲突文件列表  $ git diff --name-only --diff-filter=U\n\n关联远程分支  $ git branch -u origin/mybranch\n  或者在 push 时加上 -u 参数\n\n  git push origin/mybranch -u\n  关联之后，git branch -vv 就可以展示关联的远程分支名了, 同时推送到远程仓库直接：git push，不需要指定远程仓库\n\n展示任意分支某一文件的内容  $ git show &lt;branch-name&gt;:&lt;file-name&gt;\n\n","slug":"git-standard","date":"2022-10-15T10:49:36.000Z","categories_index":"规范","tags_index":"Git 规范","author_index":"虞建辉"},{"id":"09dff03eab2b3667889d9cf16a04a6ed","title":"前端命名规范","content":"前端命名规范引入 Eslint、Prettier 规范一个不好的命名，可能就会引起别人的错误理解；\n遵循一套严格的命名规范，无论是对自己还是接手的他人，都会大大降低代码的维护成本，所以想要成为一名合格的前端开发，命名规范是必须的；\n一些常见的不规则命名：\n单词拼写错误：到底是 form 还是 from ？\n\n中英文混用：到底用 dzTable 还是 addressList 呢？\n\n以 1-9，a-z 命名：不同类型直接用 type1、type2、type3？\n\n混用命名格式：一会 addressList 一会 addresslist 一会 addresses，这样不太好吧？\n\n单复数不分: 到底 address 还是 addresses 啊？到底是 photoes 还是 photos ？\n\n正反义词错用：到底用 showDialog 还是 isDialog 还是 visibleDialog ？\n\n\n一些常见好的命名：\n驼峰式命名法介绍：\n\nPascal Case 大驼峰式命名法：首字母大写；\n\nStudentInfo、UserInfo、ProductInfoCamel\n\n\nCase 小驼峰式命名法：首字母小写；\n\nstudentInfo、userInfo、productInfo\n\n\n\n文件资源命名：\n\n文件名不得含有空格；\n\n文件名建议只使用小写字母，不使用大写字母；\n\n\n名称较长时采用半角连接符(-)分隔；\n  usr/dev/document/front-end/project-vue3\n\n\n\n\n变量命名\n\n命名方式：采用小驼峰式命名方法；\n\n命名规范：\n\n普通变量(number, string, date)；\n\n布尔类型：需要一个标识变量含义的前缀，比如has, is, wether, can, should等；\n\n数组&#x2F;集合等复数形式：最好以s或list等能够标识复数形式的后缀结尾，标识当前变量是复数形式，提高可读性；\n\n\n\n常量全部大写，且用下划线来分割单词，eg：MAX_LENGTH &#x3D; 1\n\n\n\n函数\n\n命名方式 : 小驼峰方式 lowerCamelCase ( 构造函数使用大驼峰命名法 )\n\n命名规则 : 前缀为动词，动词 \neg：add &#x2F; update &#x2F; delete &#x2F; detail &#x2F; get\n// 更新数据\nfunction updateData()&#123;\n  return &#123;&#125;;\n&#125;\n\n// 获取用户信息\nfunction getUserInfo&#123;\n  return &#123;&#125;\n&#125;\n\n\n附： 函数方法常用的动词: \nget 获取 set 设置\n\nadd 增加 remove 删除\n\ncreate 创建 destory 销毁\n\nstart 启动 stop 停止\n\nopen 打开 close 关闭\n\nread 读取 write 写入\n\nload 载入 save 保存\n\nbegin 开始 end 结束\n\nbackup 备份 restore 恢复\n\nimport 导入 export 导出\n\nsplit 分割 merge 合并\n\ninject 注入 extract 提取\n\nattach 附着 detach 脱离\n\nbind 绑定 separate 分离\n\nview 查看 browse 浏览\n\nedit 编辑 modify 修改\n\nselect 选取 mark 标记\n\ncopy 复制 paste 粘贴\n\nundo 撤销 redo 重做\n\ninsert 插入 delete 移除\n\nadd 加入 append 添加\n\nclean 清理 clear 清除\n\nindex 索引 sort 排序\n\nfind 查找 search 搜索\n\nincrease 增加 decrease 减少\n\nplay 播放  pause 暂停\n\nlaunch 启动  run 运行\n\ncompile 编译  execute 执行\n\ndebug 调试  trace 跟踪\n\nobserve 观察  listen 监听\n\nbuild 构建  publish 发布\n\ninput 输入  output 输出\n\nencode 编码  decode 解码\n\nencrypt 加密  decrypt 解密\n\ncompress 压缩  decompress 解压缩\n\npack 打包  unpack 解包\n\nparse 解析  emit 生成\n\nconnect 连接  disconnect 断开\n\nsend 发送   receive 接收\n\ndownload 下载  upload 上传\n\nrefresh 刷新  synchronize 同步\n\nupdate 更新  revert 复原\n\nlock 锁定  unlock 解锁\n\ncheck out 签出  check in 签入\n\nsubmit 提交  commit 交付\n\npush 推  pull 拉\n\nexpand 展开  collapse 折叠\n\nenter 进入  exit 退出\n\nabort 放弃  quit 离开\n\nobsolete 废弃  depreciate 废旧\n\ncollect 收集  aggregate 聚集\n\n\n\n\n常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚， 不要嫌名字长\n 正例： MAX_STOCK_COUNT\n\n 反例： MAX_COUNT\n\n\ncss 命名：\n\n样式类名使用小写字母，以半角连接符(-)分割；\n\nid 采用驼峰式命名；\n\nscss &#x2F; less 中的变量、函数、混合、placeholder 采用驼峰式命名\n\n\n\n\n","slug":"fore-end-standard","date":"2022-10-15T10:49:36.000Z","categories_index":"规范","tags_index":"命名规范","author_index":"虞建辉"}]